[{"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\index.js":"1","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\App.js":"2","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\store.js":"3","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\LoginScreen.js":"4","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\DailyScreen.js":"5","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\HomeScreen.js":"6","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\DocViewerScreen.js":"7","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\RegisterScreen.js":"8","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\AddScreen.js":"9","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\reducers\\userReducers.js":"10","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\components\\Message.jsx":"11","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\components\\formContainer.jsx":"12","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\actions\\userActions.js":"13","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\constants\\userConstants.js":"14"},{"size":407,"mtime":1660211003194,"results":"15","hashOfConfig":"16"},{"size":932,"mtime":1659958929923,"results":"17","hashOfConfig":"16"},{"size":733,"mtime":1659867749909,"results":"18","hashOfConfig":"16"},{"size":2436,"mtime":1660216610976,"results":"19","hashOfConfig":"16"},{"size":12491,"mtime":1660212945102,"results":"20","hashOfConfig":"16"},{"size":2351,"mtime":1659768681134,"results":"21","hashOfConfig":"16"},{"size":562,"mtime":1660037273996,"results":"22","hashOfConfig":"16"},{"size":3096,"mtime":1660202525064,"results":"23","hashOfConfig":"16"},{"size":3735,"mtime":1660220190443,"results":"24","hashOfConfig":"16"},{"size":1022,"mtime":1659876072091,"results":"25","hashOfConfig":"16"},{"size":335,"mtime":1659960612430,"results":"26","hashOfConfig":"16"},{"size":352,"mtime":1659768681128,"results":"27","hashOfConfig":"16"},{"size":1692,"mtime":1659949890696,"results":"28","hashOfConfig":"16"},{"size":386,"mtime":1659857729148,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1lg3cxd",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\index.js",[],["63","64"],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\App.js",[],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\store.js",[],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\LoginScreen.js",[],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\DailyScreen.js",["65","66","67"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Table } from 'reactstrap'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { logout } from '../actions/userActions'\r\nimport { Modal, Form } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst DailyScreen = () => {\r\n  let navigate = useNavigate()\r\n  let dispatch = useDispatch()\r\n\r\n  let cnt = 0\r\n  const [docs, setDocs] = useState([])\r\n  const [show, setShow] = useState(false)\r\n  const [checkedState, setCheckedState] = useState(new Array(8).fill(false))\r\n  const [selectedFile, setSelectedFile] = useState()\r\n  const handleClose = () => setShow(false)\r\n  const handleShow = () => setShow(true)\r\n\r\n  const userLogin = useSelector((state) => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  useEffect(() => {\r\n    const fetchDocs = async () => {\r\n      const { data } = await axios.get(\r\n        `/api/v1/files/daily/show/${userInfo.dep_id}`\r\n      )\r\n      setDocs(data)\r\n    }\r\n\r\n    fetchDocs()\r\n  }, [])\r\n\r\n  let getData = async (id) => {\r\n    const data = await axios.get(`/api/v1/files/open/${id}`)\r\n  }\r\n\r\n  const handleOnChange = (position) => {\r\n    const updatedCheckedState = checkedState.map((perm, index) =>\r\n      index === position ? !perm : perm\r\n    )\r\n\r\n    setCheckedState(updatedCheckedState)\r\n  }\r\n\r\n  const submitHandler = (e) => {\r\n    console.log(checkedState, selectedFile)\r\n    let obj = {\r\n      checkedState,\r\n      selectedFile,\r\n    }\r\n    axios.post('/api/v1/files/send', obj).then((res) => {\r\n      console.log('sent')\r\n    })\r\n    setSelectedFile('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='userInfo'>\r\n        <h5>{userInfo.department}</h5>\r\n        <h5>{userInfo.name}</h5>\r\n      </div>\r\n      <div className='d-flex justify-content-between'>\r\n        <Button\r\n          className='float-right m-3'\r\n          color='danger'\r\n          onClick={() => dispatch(logout())}\r\n        >\r\n          خروج\r\n        </Button>\r\n        {userInfo.department === 'admin' ? (\r\n          <Button\r\n            className='m-3'\r\n            color='info'\r\n            onClick={() => navigate('/register')}\r\n          >\r\n            تسجيل حساب\r\n          </Button>\r\n        ) : (\r\n          <></>\r\n        )}\r\n\r\n        {userInfo.department === 'الأرشيف العام' ? (\r\n          <Button\r\n            className='m-3'\r\n            color='success'\r\n            onClick={() => navigate('/add')}\r\n          >\r\n            +\r\n          </Button>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n\r\n      <h1 className='text-center my-5'>المكاتبات اليومية</h1>\r\n      <div className='container text-center'>\r\n        <Table className='table table-hover'>\r\n          <thead>\r\n            <tr>\r\n              <th scope='col'></th>\r\n              <th scope='col'>الملخص</th>\r\n              <th scope='col'>اسم المكاتبة</th>\r\n              <th scope='col'>م</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {docs.map((el) => (\r\n              <tr>\r\n                <td style={{ width: '30%' }}>\r\n                  {userInfo.department === 'المدير العام' ||\r\n                  userInfo.department === 'نائب المدير العام' ||\r\n                  userInfo.department === 'الأرشيف العام' ||\r\n                  userInfo.department === 'سكرتير المدير العام' ? (\r\n                    <Button\r\n                      color='success'\r\n                      onClick={() => {\r\n                        handleShow()\r\n                        setSelectedFile(el.file_no)\r\n                      }}\r\n                    >\r\n                      ارسال\r\n                    </Button>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                  <Modal show={show} onHide={handleClose}>\r\n                    <Modal.Header closeButton>\r\n                      <Modal.Title style={{ alignItems: 'center' }}>\r\n                        الأقسام المرسل إليها\r\n                      </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Form onSubmit={submitHandler}>\r\n                      <div>\r\n                        <Modal.Body>\r\n                          <Form.Group>\r\n                            <div\r\n                              style={{\r\n                                float: 'left',\r\n                                display: '',\r\n                                paddingLeft: '70px',\r\n                              }}\r\n                            >\r\n                              <Form.Check\r\n                                type='checkbox'\r\n                                label='الإدارة القانونية'\r\n                                checked={checkedState[1]}\r\n                                onChange={() => handleOnChange(1)}\r\n                                disabled={\r\n                                  userInfo.department === 'المدير العام' ||\r\n                                  userInfo.department === 'نائب المدير العام'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                              <Form.Check\r\n                                type='checkbox'\r\n                                label='التخطيط و المتابعة'\r\n                                checked={checkedState[2]}\r\n                                onChange={() => handleOnChange(2)}\r\n                                disabled={\r\n                                  userInfo.department === 'المدير العام' ||\r\n                                  userInfo.department === 'نائب المدير العام'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                              <Form.Check\r\n                                type='checkbox'\r\n                                label='قسم العقود'\r\n                                checked={checkedState[3]}\r\n                                onChange={() => handleOnChange(3)}\r\n                                disabled={\r\n                                  userInfo.department === 'المدير العام' ||\r\n                                  userInfo.department === 'نائب المدير العام'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                              <Form.Check\r\n                                type='checkbox'\r\n                                label='الإدارة المالية'\r\n                                checked={checkedState[4]}\r\n                                onChange={() => handleOnChange(4)}\r\n                                disabled={\r\n                                  userInfo.department === 'المدير العام' ||\r\n                                  userInfo.department === 'نائب المدير العام'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                            </div>\r\n                            <div\r\n                              style={{\r\n                                float: 'right',\r\n                                display: '',\r\n                                paddingRight: '70px',\r\n                              }}\r\n                            >\r\n                              <Form.Check\r\n                                type='checkbox'\r\n                                label='الأرشيف العام'\r\n                                checked={checkedState[5]}\r\n                                onChange={() => handleOnChange(5)}\r\n                                disabled={\r\n                                  userInfo.department === 'المدير العام' ||\r\n                                  userInfo.department === 'نائب المدير العام'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                              <Form.Check\r\n                                type='checkbox'\r\n                                label='المدير العام'\r\n                                checked={checkedState[6]}\r\n                                onChange={() => handleOnChange(6)}\r\n                                disabled={\r\n                                  userInfo.department === 'المدير العام' ||\r\n                                  userInfo.department === 'نائب المدير العام'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                              <Form.Check\r\n                                type='checkbox'\r\n                                label='نائب المدير العام'\r\n                                checked={checkedState[7]}\r\n                                onChange={() => handleOnChange(7)}\r\n                                disabled={\r\n                                  userInfo.department === 'المدير العام' ||\r\n                                  userInfo.department === 'نائب المدير العام'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                              <Form.Check\r\n                                type='checkbox'\r\n                                label='سكرتير المدير العام'\r\n                                checked={checkedState[8]}\r\n                                onChange={() => handleOnChange(8)}\r\n                                disabled={\r\n                                  userInfo.department ===\r\n                                    'سكرتير المدير العام' ||\r\n                                  userInfo.department === 'نائب المدير العام'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                            </div>\r\n                          </Form.Group>\r\n                        </Modal.Body>\r\n                      </div>\r\n                      <div style={{ float: 'right', padding: '20px' }}>\r\n                        <Button\r\n                          color='danger'\r\n                          style={{ margin: '10px' }}\r\n                          onClick={handleClose}\r\n                        >\r\n                          غلق\r\n                        </Button>\r\n                        <Button\r\n                          type='submit'\r\n                          color='success'\r\n                          onClick={handleClose}\r\n                        >\r\n                          إرسال\r\n                        </Button>\r\n                      </div>\r\n                    </Form>\r\n                  </Modal>\r\n                  <Button\r\n                    color='info'\r\n                    onClick={() => {\r\n                      getData(el.file_no)\r\n                      navigate(`/doc`)\r\n                    }}\r\n                  >\r\n                    عرض\r\n                  </Button>\r\n                  {userInfo.department === 'المدير العام' ||\r\n                  userInfo.department === 'نائب المدير العام' ? (\r\n                    <Button\r\n                      color='warning'\r\n                      onClick={() => {\r\n                        getData(el.file_no)\r\n                        window.open('http://localhost:5000/api/v1/files/editor')\r\n                      }}\r\n                    >\r\n                      تعديل\r\n                    </Button>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                </td>\r\n                <td style={{ width: '30%' }}>{el.summary}</td>\r\n                <td style={{ width: '30%' }}>{el.orgname}</td>\r\n                <td style={{ width: '10%' }} scope='row'>\r\n                  {++cnt}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DailyScreen\r\n","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\HomeScreen.js",[],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\DocViewerScreen.js",["68"],"import React from 'react'\r\nimport pdf from './sample.pdf'\r\nimport { Button } from 'reactstrap'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst DocViewerScreen = () => {\r\n  let navigate = useNavigate()\r\n  return (\r\n    <div>\r\n      <Button\r\n        color='danger'\r\n        onClick={() => {\r\n          navigate('/daily')\r\n        }}\r\n      >\r\n        رجوع\r\n      </Button>\r\n      <object data={pdf} type='application/pdf' width='100%' height='550px'>\r\n        <a href={pdf}></a>\r\n      </object>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DocViewerScreen\r\n","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\RegisterScreen.js",[],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\pages\\AddScreen.js",["69","70"],"import { Button, Container, Row, Col, Card, Table } from 'reactstrap'\r\nimport { Form } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nconst AddScreen = () => {\r\n  let navigate = useNavigate()\r\n  let fetch\r\n  let cnt = 0\r\n  const [docs, setDocs] = useState([])\r\n  const [docNum, setDocNum] = useState()\r\n  const [imp, setImp] = useState(true)\r\n\r\n  const fetchDocs = async () => {\r\n    if (imp) fetch = await axios.get(`/api/v1/files/imp/${docNum}`)\r\n    else fetch = await axios.get(`/api/v1/files/exp/${docNum}`)\r\n    setDocs(fetch.data)\r\n  }\r\n\r\n  const addDaily = async (id) => {\r\n    if (imp) fetch = await axios.post(`/api/v1/files/daily/save/imp/${id}`)\r\n    else fetch = await axios.post(`/api/v1/files/daily/save/exp/${id}`)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        color='danger'\r\n        onClick={() => {\r\n          navigate('/daily')\r\n        }}\r\n      >\r\n        رجوع\r\n      </Button>\r\n      <h1 className='text-center my-5'> إضافة مكاتبة</h1>\r\n      <Container style={{ textAlign: 'center' }}>\r\n        <Card className='p-3'>\r\n          <Container>\r\n            <Form.Group className='text-right'>\r\n              <Form.Label>رقم المكاتبة</Form.Label>\r\n              <Form.Control\r\n                className='text-right'\r\n                type='number'\r\n                value={docNum}\r\n                onChange={(e) => setDocNum(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className='my-3'>\r\n              <div key='inline-radio'>\r\n                <Form.Check\r\n                  inline\r\n                  reverse\r\n                  name='group1'\r\n                  type='radio'\r\n                  label='وارد'\r\n                  checked={imp}\r\n                  onChange={() => setImp(!imp)}\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  name='group1'\r\n                  type='radio'\r\n                  label='صادر'\r\n                  checked={!imp}\r\n                  onChange={() => setImp(!imp)}\r\n                />\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <div className='my-3'>\r\n              <Button\r\n                className='w-50'\r\n                color='info'\r\n                type='button'\r\n                onClick={() => fetchDocs()}\r\n              >\r\n                بحث\r\n              </Button>\r\n            </div>\r\n\r\n            <div className='container text-center'>\r\n              <Table className='table table-hover'>\r\n                <thead>\r\n                  <tr>\r\n                    <th scope='col'>التاريخ</th>\r\n                    <th scope='col'>الملخص</th>\r\n                    <th scope='col'>اسم المكاتبة</th>\r\n                    <th scope='col'>م</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {docs.map((el) => (\r\n                    <tr\r\n                      onClick={() => {\r\n                        addDaily(el.id)\r\n                        alert('تم إرسال المكاتبة')\r\n                        navigate('/daily')\r\n                      }}\r\n                    >\r\n                      <td>{el.importdate.split('T')[0]}</td>\r\n                      <td style={{ width: '40%' }}>{el.summary}</td>\r\n                      <td style={{ width: '30%' }}>{el.orgname}</td>\r\n                      <th scope='row'>{++cnt}</th>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          </Container>\r\n        </Card>\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddScreen\r\n","C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\reducers\\userReducers.js",[],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\components\\Message.jsx",[],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\components\\formContainer.jsx",[],["71","72"],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\actions\\userActions.js",[],"C:\\Users\\Pro1\\Desktop\\Mailing_System\\src\\constants\\userConstants.js",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":33,"column":6,"nodeType":"79","endLine":33,"endColumn":8,"suggestions":"80"},{"ruleId":"81","severity":1,"message":"82","line":36,"column":11,"nodeType":"83","messageId":"84","endLine":36,"endColumn":15},{"ruleId":"85","severity":1,"message":"86","line":299,"column":46,"nodeType":"87","endLine":299,"endColumn":57},{"ruleId":"88","severity":1,"message":"89","line":19,"column":9,"nodeType":"90","endLine":19,"endColumn":23},{"ruleId":"81","severity":1,"message":"91","line":1,"column":29,"nodeType":"83","messageId":"84","endLine":1,"endColumn":32},{"ruleId":"81","severity":1,"message":"92","line":1,"column":34,"nodeType":"83","messageId":"84","endLine":1,"endColumn":37},{"ruleId":"73","replacedBy":"93"},{"ruleId":"75","replacedBy":"94"},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userInfo.dep_id'. Either include it or remove the dependency array.","ArrayExpression",["97"],"no-unused-vars","'data' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/scope","The scope prop can only be used on <th> elements.","JSXAttribute","jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","JSXOpeningElement","'Row' is defined but never used.","'Col' is defined but never used.",["95"],["96"],"no-global-assign","no-unsafe-negation",{"desc":"98","fix":"99"},"Update the dependencies array to be: [userInfo.dep_id]",{"range":"100","text":"101"},[1050,1052],"[userInfo.dep_id]"]